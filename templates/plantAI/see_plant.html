{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container" style="display: flex; flex-wrap: wrap; gap: 20px; align-items: flex-start;">
    
    <!-- Картинка -->
    <div style="flex: 1 1 300px;">
        <img src="{{ plant.image.url }}" alt="Plant Image" style="max-width: 100%; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
    </div>
    
    <!-- Основные предсказания и остальные вероятности -->
    <div style="flex: 1 1 300px; display: flex; flex-direction: column; gap: 20px;">
        
        <!-- Две наиболее вероятные метки -->
        <div style="background: #e8f5e9; border-left: 5px solid #4caf50; padding: 15px; border-radius: 10px;">
            <h2 style="color: #2c5530;">Наиболее вероятные метки:</h2>
            {% for item in plant.prediction|slice:":2" %}
                <p style="font-weight: 700; font-size: 1.2rem; margin: 5px 0;">
                    {{ item.label }} — {{ item.confidence|floatformat:2 }}%
                </p>
            {% endfor %}
        </div>
        
        <!-- Остальные вероятности -->
        <div style="background: #f0f7f2; padding: 15px; border-radius: 10px;">
            <h3 style="color: #2c5530; margin-bottom: 10px;">Остальные вероятности:</h3>
            <ul style="list-style: none; padding: 0;">
                {% for item in plant.prediction|slice:"2:" %}
                    <li style="display: flex; justify-content: space-between; padding: 8px 10px; background: #fff; margin-bottom: 5px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <span>{{ item.label }}</span>
                        <span style="font-weight: 600; color: #388e3c;">{{ item.confidence|floatformat:2 }}%</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
        
    </div>
</div>
{% endblock %}
